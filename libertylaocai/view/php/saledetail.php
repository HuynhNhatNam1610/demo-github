<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHI TIẾT KHUYẾN MÃI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/libertylaocai/view/css/saledetail.css">
</head>

<body>
    <?php include "header.php" ?>
    <body>
    <div class="saledetail-container">
        <div class="saledetail-banner">
            <img src="https://thewesternhill.com/themes/thewesternhill/images/banner/breadcrumb-2.jpg" alt="Banner Image" class="banner-image">
            <h1>CHI TIẾT KHUYẾN MÃI</h1>
            <div class="saledetail-breadcumb">Trang Chủ > Khuyến mãi > Chi tiết</div>
        </div>

        <div class="saledetail-content">
            <div class="content-wrapper">
                <div class="promotion-content">
                    <h2>Nội dung khuyến mãi</h2>
                    <div class="content-text">
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
                        <p>Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt.</p>
                        <img src="https://picsum.photos/800/400?random=1">
                    </div>
                </div>
            </div>
        </div>

        <div class="related-promotions">
            <div class="content-wrapper">
                <h2>Khuyến mãi liên quan</h2>
                <div class="promotion-slider-container">
                    <button class="promotion-nav-btn promotion-nav-prev">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="promotions-grid-wrapper">
                        <div class="promotions-grid" id="promotionsGrid">
                            <div class="promotion-item">
                                <img src="https://picsum.photos/400/220?random=1" alt="Promotion 1">
                                <div class="promotion-item-content">
                                    <h3>PCA Hotel – Hân Hạnh Đón Tiếp Đoàn Du Khách Sang Nhật</h3>
                                    <p>Đoàn du khách quốc tế đến từ Nhật Bản đã có chuyến thăm quan và trải nghiệm tuyệt vời tại PCA Hotel...</p>
                                    <div class="promotion-date">6 Tháng 3, 2025</div>
                                </div>
                            </div>
                            <div class="promotion-item">
                                <img src="https://picsum.photos/400/220?random=2" alt="Promotion 2">
                                <div class="promotion-item-content">
                                    <h3>Chính thức ra mắt PCA Hotel – Hệ thống Khách sạn 3 sao đầu tiên</h3>
                                    <p>Sự kiện ra mắt hoành tráng với nhiều ưu đãi hấp dẫn dành cho khách hàng...</p>
                                    <div class="promotion-date">6 Tháng 3, 2025</div>
                                </div>
                            </div>
                            <div class="promotion-item">
                                <img src="https://picsum.photos/400/220?random=3" alt="Promotion 3">
                                <div class="promotion-item-content">
                                    <h3>Ẩm thực tại PCA Hotel – Thưởng thức bữa sáng sang trọng</h3>
                                    <p>Trải nghiệm ẩm thực đẳng cấp với thực đơn phong phú và không gian sang trọng...</p>
                                    <div class="promotion-date">6 Tháng 3, 2025</div>
                                </div>
                            </div>
                            <div class="promotion-item">
                                <img src="https://picsum.photos/400/220?random=4" alt="Promotion 4">
                                <div class="promotion-item-content">
                                    <h3>Phòng nghỉ cao cấp tại PCA Hotel với view tuyệt đẹp</h3>
                                    <p>Các phòng được thiết kế hiện đại với đầy đủ tiện nghi và tầm nhìn panoramic...</p>
                                    <div class="promotion-date">5 Tháng 3, 2025</div>
                                </div>
                            </div>
                            <div class="promotion-item">
                                <img src="https://picsum.photos/400/220?random=5" alt="Promotion 5">
                                <div class="promotion-item-content">
                                    <h3>Dịch vụ chuyên nghiệp tại PCA Hotel</h3>
                                    <p>Đội ngũ nhân viên được đào tạo bài bản, phục vụ tận tình và chuyên nghiệp...</p>
                                    <div class="promotion-date">4 Tháng 3, 2025</div>
                                </div>
                            </div>
                            <div class="promotion-item">
                                <img src="https://picsum.photos/400/220?random=6" alt="Promotion 6">
                                <div class="promotion-item-content">
                                    <h3>Tiện ích hiện đại tại PCA Hotel</h3>
                                    <p>Hệ thống tiện ích đầy đủ từ gym, spa, hồ bơi đến các dịch vụ giải trí...</p>
                                    <div class="promotion-date">3 Tháng 3, 2025</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="promotion-nav-btn promotion-nav-next">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                <div class="promotion-slider-dots"></div>
            </div>
        </div>
    </div>

    <script>
        let currentPromotionSlide = 0;
        let promotionsPerSlide = 3;
        let totalPromotionCards = 0;
        let maxPromotionSlides = 0;

        function updatePromotionsPerSlide() {
            const screenWidth = window.innerWidth;
            if (screenWidth <= 768) {
                promotionsPerSlide = 1;
            } else if (screenWidth <= 1024) {
                promotionsPerSlide = 2;
            } else {
                promotionsPerSlide = 3;
            }

            const promotionCards = document.querySelectorAll(".promotion-item");
            totalPromotionCards = promotionCards.length;
            maxPromotionSlides = Math.max(0, totalPromotionCards - promotionsPerSlide);

            // Reset slide if current position is invalid
            if (currentPromotionSlide > maxPromotionSlides) {
                currentPromotionSlide = maxPromotionSlides;
            }

            updatePromotionSlider();
            updatePromotionNavigation();
        }

        function updatePromotionSlider() {
            const promotionsGrid = document.querySelector(".promotions-grid");
            const promotionCards = document.querySelectorAll(".promotion-item");

            if (!promotionsGrid || promotionCards.length === 0) return;

            // Calculate card width based on screen size
            let cardWidth, gap;
            const screenWidth = window.innerWidth;

            if (screenWidth <= 768) {
                cardWidth = 100; // 100% width for mobile
                gap = 0;
            } else if (screenWidth <= 1024) {
                cardWidth = 48; // ~48% width for tablet (2 cards)
                gap = 2;
            } else {
                cardWidth = 31.33; // ~31.33% width for desktop (3 cards)
                gap = 1;
            }

            // Set CSS custom properties for smooth transition
            promotionsGrid.style.setProperty("--card-width", `${cardWidth}%`);
            promotionsGrid.style.setProperty("--gap", `${gap}%`);

            const translateX = currentPromotionSlide * (cardWidth + gap);
            promotionsGrid.style.transform = `translateX(-${translateX}%)`;
        }

        function nextPromotionSlide() {
            currentPromotionSlide = (currentPromotionSlide +1) % (maxPromotionSlides + 1);
                updatePromotionSlider();
                updatePromotionNavigation();
        }

        function prevPromotionSlide() {
            currentPromotionSlide =(currentPromotionSlide - 1 + (maxPromotionSlides + 1)) % (maxPromotionSlides + 1);
                updatePromotionSlider();
                updatePromotionNavigation();
            
        }

        function updatePromotionNavigation() {
            const prevBtn = document.querySelector(".promotion-nav-prev");
            const nextBtn = document.querySelector(".promotion-nav-next");

            if (prevBtn && nextBtn) {
                prevBtn.style.opacity = currentPromotionSlide === 0 ? "0.5" : "1";
                prevBtn.style.cursor = currentPromotionSlide === 0 ? "not-allowed" : "pointer";

                nextBtn.style.opacity = currentPromotionSlide >= maxPromotionSlides ? "0.5" : "1";
                nextBtn.style.cursor = currentPromotionSlide >= maxPromotionSlides ? "not-allowed" : "pointer";
            }

            // Update dots indicator
            const dots = document.querySelectorAll(".promotion-dot");
            dots.forEach((dot, index) => {
                dot.classList.toggle("active", index === currentPromotionSlide);
            });
        }

        // Initialize promotion slider
        function initPromotionSlider() {
            updatePromotionsPerSlide();

            // Create navigation dots
            const promotionSliderContainer = document.querySelector(".related-promotions");
            const existingDots = document.querySelector(".promotion-slider-dots");
            if (existingDots) {
                existingDots.remove();
            }

            const dotsContainer = document.createElement("div");
            dotsContainer.className = "promotion-slider-dots";

            for (let i = 0; i <= maxPromotionSlides; i++) {
                const dot = document.createElement("span");
                dot.className = "promotion-dot";
                if (i === 0) dot.classList.add("active");
                dot.addEventListener("click", () => {
                    currentPromotionSlide = i;
                    updatePromotionSlider();
                    updatePromotionNavigation();
                });
                dotsContainer.appendChild(dot);
            }

            // Only show dots if there are multiple slides
            if (maxPromotionSlides > 0) {
                promotionSliderContainer.appendChild(dotsContainer);
            }

            // Add event listeners for navigation buttons
            const prevBtn = document.querySelector(".promotion-nav-prev");
            const nextBtn = document.querySelector(".promotion-nav-next");

            if (prevBtn && nextBtn) {
                prevBtn.addEventListener("click", prevPromotionSlide);
                nextBtn.addEventListener("click", nextPromotionSlide);
            }
        }

        // Touch/swipe support
        let startX = 0;
        let endX = 0;

        document.querySelector(".promotions-grid-wrapper").addEventListener("touchstart", (e) => {
            startX = e.touches[0].clientX;
        });

        document.querySelector(".promotions-grid-wrapper").addEventListener("touchend", (e) => {
            endX = e.changedTouches[0].clientX;
            handlePromotionSwipe();
        });

        function handlePromotionSwipe() {
            const swipeThreshold = 50;
            const diff = startX - endX;

            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    nextPromotionSlide();
                } else {
                    prevPromotionSlide();
                }
            }
        }

        // Initialize when DOM is loaded
        document.addEventListener("DOMContentLoaded", function () {
            initPromotionSlider();
        });

        // Window resize handler
        window.addEventListener("resize", () => {
            updatePromotionsPerSlide();
        });
    </script>
    <?php include "footer.php" ?>
</body>
</body>

</html>